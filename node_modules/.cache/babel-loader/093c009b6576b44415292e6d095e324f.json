{"ast":null,"code":"var DBOpenRequest = window.indexedDB.open(\"WalnicDB\", 1);\nvar db;\n\nDBOpenRequest.onsuccess = function (event) {\n  db = DBOpenRequest.result;\n};\n\nexport function addTeamDB(data) {\n  var transaction = db.transaction([\"Team\"], \"readwrite\");\n  var objectStore = transaction.objectStore(\"Team\");\n  var objectStoreRequest = objectStore.add(data);\n}\n;\nexport function fetchTeams() {\n  var tx = db.transaction('Team', 'readonly');\n  var store = tx.objectStore('Team');\n  var teams = []; // Desgraciadamente, todo sigue siendo asíncrono y lo que podría ser\n  // un sencillo y lineal bucle se convierte en callbacks\n\n  store.openCursor().onsuccess = function (event) {\n    var cursor = event.target.result; // cursor será truthy mientras haya elementos que procesar\n\n    if (cursor) {\n      // En cursor.value tenemos el elemento actual\n      var current = cursor.value; // Pasamos a procesar el siguiente resultado\n\n      cursor.continue();\n    }\n  };\n}\n;","map":{"version":3,"sources":["/root/Escritorio/examen/walnic/src/db.js"],"names":["DBOpenRequest","window","indexedDB","open","db","onsuccess","event","result","addTeamDB","data","transaction","objectStore","objectStoreRequest","add","fetchTeams","tx","store","teams","openCursor","cursor","target","current","value","continue"],"mappings":"AAEA,IAAIA,aAAa,GAAGC,MAAM,CAACC,SAAP,CAAiBC,IAAjB,CAAsB,UAAtB,EAAkC,CAAlC,CAApB;AACA,IAAIC,EAAJ;;AAEAJ,aAAa,CAACK,SAAd,GAA0B,UAASC,KAAT,EAAgB;AACxCF,EAAAA,EAAE,GAAGJ,aAAa,CAACO,MAAnB;AACD,CAFD;;AAIA,OAAO,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AAC9B,MAAIC,WAAW,GAAGN,EAAE,CAACM,WAAH,CAAe,CAAC,MAAD,CAAf,EAAyB,WAAzB,CAAlB;AACA,MAAIC,WAAW,GAAGD,WAAW,CAACC,WAAZ,CAAwB,MAAxB,CAAlB;AACA,MAAIC,kBAAkB,GAAGD,WAAW,CAACE,GAAZ,CAAgBJ,IAAhB,CAAzB;AACD;AAAA;AAGD,OAAO,SAASK,UAAT,GAAsB;AAC3B,MAAIC,EAAE,GAAGX,EAAE,CAACM,WAAH,CAAe,MAAf,EAAuB,UAAvB,CAAT;AACA,MAAIM,KAAK,GAAGD,EAAE,CAACJ,WAAH,CAAe,MAAf,CAAZ;AACA,MAAIM,KAAK,GAAG,EAAZ,CAH2B,CAI3B;AACA;;AAEAD,EAAAA,KAAK,CAACE,UAAN,GAAmBb,SAAnB,GAA+B,UAASC,KAAT,EAAgB;AAC7C,QAAIa,MAAM,GAAGb,KAAK,CAACc,MAAN,CAAab,MAA1B,CAD6C,CAE7C;;AACA,QAAIY,MAAJ,EAAY;AACV;AACA,UAAIE,OAAO,GAAGF,MAAM,CAACG,KAArB,CAFU,CAIV;;AACAH,MAAAA,MAAM,CAACI,QAAP;AACD;AACF,GAVD;AAWD;AAAA","sourcesContent":["\n\nvar DBOpenRequest = window.indexedDB.open(\"WalnicDB\", 1);\nvar db;\n\nDBOpenRequest.onsuccess = function(event) {\n  db = DBOpenRequest.result;\n};\n\nexport function addTeamDB(data) {\n  var transaction = db.transaction([\"Team\"], \"readwrite\");\n  var objectStore = transaction.objectStore(\"Team\");\n  var objectStoreRequest = objectStore.add(data);\n};\n\n\nexport function fetchTeams() {\n  var tx = db.transaction('Team', 'readonly');\n  var store = tx.objectStore('Team');\n  var teams = []\n  // Desgraciadamente, todo sigue siendo asíncrono y lo que podría ser\n  // un sencillo y lineal bucle se convierte en callbacks\n\n  store.openCursor().onsuccess = function(event) {\n    var cursor = event.target.result;\n    // cursor será truthy mientras haya elementos que procesar\n    if (cursor) {\n      // En cursor.value tenemos el elemento actual\n      var current = cursor.value;\n\n      // Pasamos a procesar el siguiente resultado\n      cursor.continue();\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}