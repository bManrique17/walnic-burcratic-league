{"ast":null,"code":"class DB {\n  constructor() {\n    this.dbconnect = (window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB).open('WalnicDB', 1);\n\n    this.dbconnect.onupgradeneeded = ev => {\n      console.log('Actualizar BD');\n      const db = ev.target.result;\n      var store = db.createObjectStore('Team', {\n        keyPath: 'id',\n        autoIncrement: true\n      });\n      store.createIndex('name', 'name', {\n        unique: false\n      });\n      store.createIndex('dt', 'dt', {\n        unique: true\n      });\n      store = db.createObjectStore('Match', {\n        keyPath: 'id',\n        autoIncrement: true\n      });\n      store.createIndex('team1', 'team1', {\n        unique: false\n      });\n      store.createIndex('team2', 'team2', {\n        unique: false\n      });\n      store.createIndex('goals1', 'goals1', {\n        unique: false\n      });\n      store.createIndex('goals2', 'goals2', {\n        unique: false\n      });\n    };\n  }\n\n  addTeamDB(data) {\n    alert(\"asd\");\n\n    this.dbconnect.onsuccess = ev => {\n      const db = ev.target.result;\n      const transaction = db.transaction('Team', 'readwrite');\n      const store = transaction.objectStore('Team');\n      store.add(data);\n    };\n  }\n\n}\n\nexport default DB;","map":{"version":3,"sources":["/root/Escritorio/examen/walnic/src/db.js"],"names":["DB","constructor","dbconnect","window","indexedDB","webkitIndexedDB","mozIndexedDB","open","onupgradeneeded","ev","console","log","db","target","result","store","createObjectStore","keyPath","autoIncrement","createIndex","unique","addTeamDB","data","alert","onsuccess","transaction","objectStore","add"],"mappings":"AACA,MAAMA,EAAN,CAAS;AAEPC,EAAAA,WAAW,GAAG;AACZ,SAAKC,SAAL,GAAiB,CAACC,MAAM,CAACC,SAAP,IACED,MAAM,CAACE,eADT,IAEEF,MAAM,CAACG,YAFV,EAEwBC,IAFxB,CAE6B,UAF7B,EAEyC,CAFzC,CAAjB;;AAGA,SAAKL,SAAL,CAAeM,eAAf,GAAiCC,EAAE,IAAI;AACrCC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,YAAMC,EAAE,GAAGH,EAAE,CAACI,MAAH,CAAUC,MAArB;AACA,UAAIC,KAAK,GAAGH,EAAE,CAACI,iBAAH,CAAqB,MAArB,EAA6B;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,aAAa,EAAE;AAAhC,OAA7B,CAAZ;AACAH,MAAAA,KAAK,CAACI,WAAN,CAAkB,MAAlB,EAA0B,MAA1B,EAAkC;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAlC;AACAL,MAAAA,KAAK,CAACI,WAAN,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAA9B;AAEAL,MAAAA,KAAK,GAAGH,EAAE,CAACI,iBAAH,CAAqB,OAArB,EAA8B;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,aAAa,EAAE;AAAhC,OAA9B,CAAR;AACAH,MAAAA,KAAK,CAACI,WAAN,CAAkB,OAAlB,EAA2B,OAA3B,EAAoC;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAApC;AACAL,MAAAA,KAAK,CAACI,WAAN,CAAkB,OAAlB,EAA2B,OAA3B,EAAoC;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAApC;AACAL,MAAAA,KAAK,CAACI,WAAN,CAAkB,QAAlB,EAA4B,QAA5B,EAAsC;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAtC;AACAL,MAAAA,KAAK,CAACI,WAAN,CAAkB,QAAlB,EAA4B,QAA5B,EAAsC;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAtC;AACD,KAZD;AAaD;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAM;AACbC,IAAAA,KAAK,CAAC,KAAD,CAAL;;AACA,SAAKrB,SAAL,CAAesB,SAAf,GAA2Bf,EAAE,IAAI;AAC/B,YAAMG,EAAE,GAAGH,EAAE,CAACI,MAAH,CAAUC,MAArB;AACC,YAAMW,WAAW,GAAGb,EAAE,CAACa,WAAH,CAAe,MAAf,EAAuB,WAAvB,CAApB;AACD,YAAMV,KAAK,GAAGU,WAAW,CAACC,WAAZ,CAAwB,MAAxB,CAAd;AACAX,MAAAA,KAAK,CAACY,GAAN,CAAUL,IAAV;AACD,KALD;AAMD;;AA7BM;;AAiCT,eAAetB,EAAf","sourcesContent":["\nclass DB {\n\n  constructor() {\n    this.dbconnect = (window.indexedDB\n                     || window.webkitIndexedDB\n                     || window.mozIndexedDB).open('WalnicDB', 1);\n    this.dbconnect.onupgradeneeded = ev => {\n      console.log('Actualizar BD');\n      const db = ev.target.result;\n      var store = db.createObjectStore('Team', { keyPath: 'id', autoIncrement: true });\n      store.createIndex('name', 'name', { unique: false });\n      store.createIndex('dt', 'dt', { unique: true });\n\n      store = db.createObjectStore('Match', { keyPath: 'id', autoIncrement: true });\n      store.createIndex('team1', 'team1', { unique: false });\n      store.createIndex('team2', 'team2', { unique: false });\n      store.createIndex('goals1', 'goals1', { unique: false });\n      store.createIndex('goals2', 'goals2', { unique: false });\n    }\n  }\n\n  addTeamDB(data){\n    alert(\"asd\");\n    this.dbconnect.onsuccess = ev => {\n  \t   const db = ev.target.result;\n       const transaction = db.transaction('Team', 'readwrite');\n  \t   const store = transaction.objectStore('Team');\n  \t   store.add(data);\n    }\n  }\n\n}\n\nexport default DB;\n"]},"metadata":{},"sourceType":"module"}